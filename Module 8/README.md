# Challenge: Normalization in MySQL

<div id="u2ne66Oes3bV" class="MlJlv_ebWM MlJlv_ycrn MlJlv_cMGi MlJlv_dUEG"><div class="MlJlv_caGd"><span class="fOyUs_bGBk" style="margin: 0px; padding: 0px;"><div class="user_content enhanced" data-test-id="assignments-2-assignment-toggle-details-text"><h1 class="code-line" data-line-start="0" data-line-end="1">Normalization on a Dataset</h1>
<h2 class="code-line" data-line-start="2" data-line-end="3"><a id="Goals_2"></a>Goals</h2>
<ul>
<li class="has-line-data" data-line-start="4" data-line-end="6">To gain experience normalizing sql data</li>
</ul>
<h2 class="code-line" data-line-start="6" data-line-end="7"><a id="Description_6"></a>Description</h2>
<p class="has-line-data" data-line-start="8" data-line-end="9">In this challenge you will carry out the normalization process on data you are provided.</p>
<h2 class="code-line" data-line-start="10" data-line-end="11"><a id="Purpose_10"></a>Purpose</h2>
<p class="has-line-data" data-line-start="12" data-line-end="13">This challenge will provide experience normalizing sql data</p>
<h2 class="code-line" data-line-start="14" data-line-end="15"><a id="Project_Tasks_14"></a>Project Tasks</h2>
<ol>
<li class="has-line-data" data-line-start="16" data-line-end="17">Normalize the data you are provided below to 3NF</li>
<li class="has-line-data" data-line-start="17" data-line-end="19">Submit a text file showing the the resulting tables at each step of the normalization process.</li>
</ol>
<h2 class="code-line" data-line-start="19" data-line-end="20"><a id="1_Normalize_the_Dataset_Provided_19"></a>1. Normalize the Dataset Provided</h2>
<p class="has-line-data" data-line-start="21" data-line-end="22">Make sure you have reviewed the normalization resources and the <a title="SQL Normalization Example" href="https://umsystem.instructure.com/courses/137455/pages/sql-normalization-example" data-api-endpoint="https://umsystem.instructure.com/api/v1/courses/137455/pages/sql-normalization-example" data-api-returntype="Page">examples provided</a> before attempting this challenge. You are asked to normalize the following data to 3NF. The primary keys of each table should be underlined.</p>
<p class="has-line-data" data-line-start="21" data-line-end="22"><strong>Data to Normalize</strong></p>
<p class="has-line-data" data-line-start="21" data-line-end="22"><strong><img src="https://umsystem.instructure.com/courses/137455/files/12898722/preview" alt="challenge-dataset.png" width="1812" height="290" data-api-endpoint="https://umsystem.instructure.com/api/v1/courses/137455/files/12898722" data-api-returntype="File"></strong></p>
<img width="1062" alt="challenge-dataset" src="https://user-images.githubusercontent.com/97800093/208744452-1e62f2df-2a99-4a30-a7c3-1d2da7c68335.png">
<h2 class="code-line" data-line-start="23" data-line-end="24"><a id="What_to_Submit_23"></a>What to Submit</h2>
<p class="has-line-data" data-line-start="25" data-line-end="26">You should create and submit the following:</p>
<ul>
<li class="has-line-data" data-line-start="25" data-line-end="26"><strong>An Entity Relationship Diagram (ERD)</strong>&nbsp; of the database you design.&nbsp;</li>
<li class="has-line-data" data-line-start="25" data-line-end="26"><strong>Submit screenshots</strong> of your normalization process at each step of the normalization process: 1NF, 2NF, and 3NF. You can complete the challenge on paper, using a spreadsheet program, or your favorite drawing program like <a href="http://draw.io" class="external" target="_blank" rel="noreferrer noopener"><span>draw.io</span><span class="external_link_icon" style="margin-inline-start: 5px; " role="presentation"><svg viewBox="0 0 1920 1920" version="1.1" xmlns="http://www.w3.org/2000/svg" style="width:1em; height:1em; vertical-align:middle; fill:currentColor">
    <path d="M1226.66667,267 C1314.88,267 1386.66667,338.786667 1386.66667,427 L1386.66667,427 L1386.66667,853.666667 L1280,853.666667 L1280,693.666667 L106.666667,693.666667 L106.666667,1493.66667 C106.666667,1523 130.56,1547 160,1547 L160,1547 L1226.66667,1547 C1256.10667,1547 1280,1523 1280,1493.66667 L1280,1493.66667 L1280,1280.33333 L1386.66667,1280.33333 L1386.66667,1493.66667 C1386.66667,1581.88 1314.88,1653.66667 1226.66667,1653.66667 L1226.66667,1653.66667 L160,1653.66667 C71.7866667,1653.66667 0,1581.88 0,1493.66667 L0,1493.66667 L0,427 C0,338.786667 71.7866667,267 160,267 L160,267 Z M1584.37333,709.293333 L1904.37333,1029.29333 C1925.17333,1050.09333 1925.17333,1083.90667 1904.37333,1104.70667 L1904.37333,1104.70667 L1584.37333,1424.70667 L1508.96,1349.29333 L1737.86667,1120.38667 L906.613333,1120.38667 L906.613333,1013.72 L1737.86667,1013.72 L1508.96,784.706667 L1584.37333,709.293333 Z M1226.66667,373.666667 L160,373.666667 C130.56,373.666667 106.666667,397.666667 106.666667,427 L106.666667,427 L106.666667,587 L1280,587 L1280,427 C1280,397.666667 1256.10667,373.666667 1226.66667,373.666667 L1226.66667,373.666667 Z" stroke="none" stroke-width="1" fill-rule="evenodd"></path>
</svg>
<span class="screenreader-only">Links to an external site.</span></span></a>.</li>
</ul></div></span></div></div>




# Challenge: Nested Document Queries in MongoDB
<div id="unyYyfnaTCyT" class="MlJlv_ebWM MlJlv_ycrn MlJlv_cMGi MlJlv_dUEG"><div class="MlJlv_caGd"><span class="fOyUs_bGBk" style="margin: 0px; padding: 0px;"><div class="user_content enhanced" data-test-id="assignments-2-assignment-toggle-details-text"><h1 class="code-line" data-line-start="0" data-line-end="1">MongoDB Nested Document Queries</h1>
<h2 class="code-line" data-line-start="2" data-line-end="3"><a id="Goals_2"></a>Goals</h2>
<ul>
<li class="has-line-data" data-line-start="4" data-line-end="5">To gain experience querying nested documents in mongodb</li>
<li class="has-line-data" data-line-start="5" data-line-end="6">To gain continue developing skill using mongodb’s aggregation pipeline</li>
<li class="has-line-data" data-line-start="6" data-line-end="8">To begin to continue develop a working understanding of the differences between relational and non-relational databases.</li>
</ul>
<h2 class="code-line" data-line-start="8" data-line-end="9"><a id="Description_8"></a>Description</h2>
<p class="has-line-data" data-line-start="10" data-line-end="11">In this challenge you are being provided four JSON files which contain the collections data you will load into the non-relational version of the classic models database you have used in previous challenges in MySQL. You will load the classic models database into your mongo-container and construct queries to answer the questions in this challenge.</p>
<h2 class="code-line" data-line-start="12" data-line-end="13"><a id="Purpose_12"></a>Purpose</h2>
<p class="has-line-data" data-line-start="14" data-line-end="15">This challenge will provide will further your understanding of the differences between relational and non relational databases.</p>
<h2 class="code-line" data-line-start="16" data-line-end="17"><a id="Project_Tasks_16"></a>Project Tasks</h2>
<ol>
<li class="has-line-data" data-line-start="18" data-line-end="19">Copy the JSON files into Docker from your local file system.</li>
<li class="has-line-data" data-line-start="19" data-line-end="20">Load the database</li>
<li class="has-line-data" data-line-start="20" data-line-end="21">Log into the MongoDB server in the mongo-container in your docker environment.</li>
<li class="has-line-data" data-line-start="21" data-line-end="22">Construct queries to answer the questions about the database and save queries to a javascript (.js) file.</li>
<li class="has-line-data" data-line-start="22" data-line-end="24">Submit the .js file to Canvas.</li>
</ol>
<h2 class="code-line" data-line-start="24" data-line-end="25"><a id="1_Copy_JSON_files_into_Docker_Container_24"></a>1. Copy JSON files into Docker Container</h2>
<ol>
<li class="has-line-data" data-line-start="26" data-line-end="27">Download the data files for this module. <span class="instructure_file_holder link_holder instructure_file_link_holder"><a class="" title="classic-mongo.zip" href="https://umsystem.instructure.com/courses/137455/files/12898723?wrap=1" target="_blank" data-api-endpoint="https://umsystem.instructure.com/api/v1/courses/137455/files/12898723" data-api-returntype="File">Classic Files</a><a class="file_download_btn" role="button" download="" style="margin-inline-start: 5px; text-decoration: none;" href="https://umsystem.instructure.com/courses/137455/files/12898723/download?download_frd=1"><span role="presentation"><svg viewBox="0 0 1920 1920" version="1.1" xmlns="http://www.w3.org/2000/svg" style="width:1em; height:1em; vertical-align:middle; fill:currentColor">
    <path d="M1807.09271,1482.47718 L1886.82918,1562.43953 L1531.51624,1917.75247 L355.346824,1917.75247 L0.0338823529,1562.43953 L79.8832941,1482.47718 L402.104471,1804.81129 L1484.75859,1804.81129 L1807.09271,1482.47718 Z M997.677176,-0.0338823529 L997.677176,1166.98729 L1352.99012,811.674353 L1432.95247,891.523765 L941.093647,1383.15671 L449.460706,891.523765 L529.423059,811.674353 L884.736,1166.98729 L884.736,-0.0338823529 L997.677176,-0.0338823529 Z" stroke="none" stroke-width="1" fill-rule="evenodd"></path>
</svg>
</span><span class="screenreader-only">Download Classic Files</span></a></span></li>
<li class="has-line-data" data-line-start="27" data-line-end="32">Create a folder named ‘classic’ inside of the ‘mongo-files’ folder inside of the Docker folder you created in Module 1. Your Docker folder structure should now look like the following:
<ul>
<li class="has-line-data" data-line-start="28" data-line-end="29">it-3380-dev-env</li>
<li class="has-line-data" data-line-start="29" data-line-end="30">sql</li>
<li class="has-line-data" data-line-start="30" data-line-end="32">mongo-files
<ul>
<li class="has-line-data" data-line-start="31" data-line-end="32">classic</li>
</ul>
</li>
</ul>
</li>
<li class="has-line-data" data-line-start="32" data-line-end="33">Extract the .json files from the zip file you downloaded inside of your classic folder.</li>
<li class="has-line-data" data-line-start="33" data-line-end="34">Open your terminal (mac) or command prompt (PC) and navigate to the Docker -&gt; mongo-files -&gt; classic folder you just created.</li>
<li class="has-line-data" data-line-start="34" data-line-end="37">You can now copy the classic directory containing the files customer, employees, porducts, and orders json files into the mongo-container in the Docker environment using the docker copy command.
<ul>
<li class="has-line-data" data-line-start="35" data-line-end="37"><code>docker cp classic-new mongo-container:/root/mongo-files/</code></li>
</ul>
</li>
</ol>
<p class="has-line-data" data-line-start="37" data-line-end="38">If you don’t get an error message that means the copy was successful.</p>
<h2 class="code-line" data-line-start="39" data-line-end="40"><a id="2_Load_the_Database_39"></a>2. Load the Database</h2>
<p class="has-line-data" data-line-start="41" data-line-end="42">Next, you will log into the mongo-container to login into the MongoDB server. And before you log in you will check to ensure the copy you performed in the previous step was successful.</p>
<ol>
<li class="has-line-data" data-line-start="43" data-line-end="44">Open your terminal (mac) or command prompt (PC) and log into your mongo-container:</li>
<li class="has-line-data" data-line-start="44" data-line-end="46">Change directory to the classic directory.
<ul>
<li class="has-line-data" data-line-start="45" data-line-end="46"><code>cd ~/mongo-files/classic</code></li>
</ul>
</li>
<li class="has-line-data" data-line-start="46" data-line-end="48">Check to ensure that the four json files are in the folder using the ls command
<ul>
<li class="has-line-data" data-line-start="47" data-line-end="48"><code>ls</code></li>
</ul>
</li>
<li class="has-line-data" data-line-start="48" data-line-end="61">Use the following commands to create a database named classicmodels and load the data from the json files into their respective collections. Type the following commands:
<ul>
<li class="has-line-data" data-line-start="49" data-line-end="50"><code>mongoimport --db classicmodels --collection customers --drop --file customers.json --jsonArray</code></li>
<li class="has-line-data" data-line-start="50" data-line-end="51"><code>mongoimport --db classicmodels --collection orders --drop --file orders.json --jsonArray</code></li>
<li class="has-line-data" data-line-start="51" data-line-end="52"><code>mongoimport --db classicmodels --collection products --drop --file products.json --jsonArray</code></li>
<li class="has-line-data" data-line-start="52" data-line-end="53"><code>mongoimport --db classicmodels --collection employees --drop --file employees.json --jsonArray</code></li>
<li class="has-line-data" data-line-start="53" data-line-end="61"><strong>Understanding the Commands</strong>
<ul>
<li class="has-line-data" data-line-start="54" data-line-end="55"><strong>mongoimport</strong>: the mongodb command to load data into a database</li>
<li class="has-line-data" data-line-start="55" data-line-end="56"><strong>–db</strong>: specifies which database to load the data into. If the database does not exist, it will be created.</li>
<li class="has-line-data" data-line-start="56" data-line-end="57"><strong>–collection</strong>: specifies which collection in the database to load the data into. If the collection does not exist, it will be created.</li>
<li class="has-line-data" data-line-start="57" data-line-end="58"><strong>–drop</strong>: if the collection exists before the import it will be dropped and a new collection created.</li>
<li class="has-line-data" data-line-start="58" data-line-end="59"><strong>–file</strong>: specifies which file to load the data from.</li>
<li class="has-line-data" data-line-start="59" data-line-end="61"><strong>–jsonArray</strong>: specifies the data format in the file is a JSON array.</li>
</ul>
</li>
</ul>
</li>
</ol>
<h2 class="code-line" data-line-start="61" data-line-end="62"><a id="3_Log_In_To_the_Mongo_Server_61"></a>3. Log In To the Mongo Server</h2>
<p class="has-line-data" data-line-start="63" data-line-end="64">You can now log in to the mongodb server and access the database. You should have a database named classicmodels that contains four collections: employees, products, orders, and customers.</p>
<ol>
<li class="has-line-data" data-line-start="65" data-line-end="66">Log in to the mongodb server.</li>
<li class="has-line-data" data-line-start="66" data-line-end="72">You can view the structure of the documents in each collection using the following commands
<ul>
<li class="has-line-data" data-line-start="67" data-line-end="68"><code>db.orders.findOne()</code></li>
<li class="has-line-data" data-line-start="68" data-line-end="69"><code>db.customers.findOne()</code></li>
<li class="has-line-data" data-line-start="69" data-line-end="70"><code>db.products.findOne()</code></li>
<li class="has-line-data" data-line-start="70" data-line-end="72"><code>db.employees.findOne()</code></li>
</ul>
</li>
</ol>
<h2 class="code-line" data-line-start="72" data-line-end="73"><a id="4_Run_MongoDB_Queries_from_the_Commmand_Line_72"></a>4. Run MongoDB Queries from the Commmand Line</h2>
<p class="has-line-data" data-line-start="74" data-line-end="75">Execute queries to answer the following questions. These are the same questions you were asked in module 6 using the sql classicmodels database.</p>
<ol>
<li class="has-line-data" data-line-start="76" data-line-end="77">Calculate the number of orders for each product that has been ordered. Display the product name and number of orders in a column called “Number of Orders”. Display the results in descending order based on “Number of Orders”. Note: You are calculating the number of orders and not quantity ordered. For example, if Alice orders 3 pizzas today and 5 pizzas next week then pizza orders equals 2 and the quantity of pizzas ordered equals 8. &nbsp;The results below are the first 5&nbsp; and last 5 results<br>
<ol>
<li class="has-line-data" data-line-start="76" data-line-end="77">{ "_id" : "1992 Ferrari 360 Spider red", "totalOrders" : 53 }<br>{ "_id" : "1900s Vintage Bi-Plane", "totalOrders" : 28 }<br>{ "_id" : "1999 Yamaha Speed Boat", "totalOrders" : 28 }<br>{ "_id" : "1940 Ford Delivery Sedan", "totalOrders" : 28 }<br>{ "_id" : "1972 Alfa Romeo GTA", "totalOrders" : 28 }<br>...<br>{ "_id" : "1966 Shelby Cobra 427 S/C", "totalOrders" : 25 }<br>{ "_id" : "1932 Alfa Romeo 8C2300 Spider Sport", "totalOrders" : 25 }<br>{ "_id" : "1970 Chevy Chevelle SS 454", "totalOrders" : 25 }<br>{ "_id" : "1952 Citroen-15CV", "totalOrders" : 24 }<br>{ "_id" : "1957 Ford Thunderbird", "totalOrders" : 24 }</li>
</ol>
</li>
<li class="has-line-data" data-line-start="77" data-line-end="78">Calculate the total number of each product that has been ordered. Display the product name and quantity ordered in a column called “Quantity Ordered”. Display the results in descending order based on Quantity Ordered. The results below are the first 5&nbsp; and last 5 results<br>
<ol>
<li class="has-line-data" data-line-start="77" data-line-end="78">{ "_id" : "1992 Ferrari 360 Spider red", "quantityOrdered" : 1808 }<br>{ "_id" : "1937 Lincoln Berline", "quantityOrdered" : 1111 }<br>{ "_id" : "American Airlines: MD-11S", "quantityOrdered" : 1085 }<br>{ "_id" : "1941 Chevrolet Special Deluxe Cabriolet", "quantityOrdered" : 1076 }<br>{ "_id" : "1930 Buick Marquette Phaeton", "quantityOrdered" : 1074 }<br>...<br>{ "_id" : "1999 Indy 500 Monte Carlo SS", "quantityOrdered" : 855 }<br>{ "_id" : "1911 Ford Town Car", "quantityOrdered" : 832 }<br>{ "_id" : "1936 Mercedes Benz 500k Roadster", "quantityOrdered" : 824 }<br>{ "_id" : "1970 Chevy Chevelle SS 454", "quantityOrdered" : 803 }<br>{ "_id" : "1957 Ford Thunderbird", "quantityOrdered" : 767 }</li>
</ol>
</li>
<li class="has-line-data" data-line-start="78" data-line-end="79">Calculate the total dollar value of the top 25 products that has been ordered in the database. Display the product name and the dollar value in a column called “Total Value”.<br>
<ol>
<li class="has-line-data" data-line-start="78" data-line-end="79">{ "_id" : "1992 Ferrari 360 Spider red", "totalSales" : 276839.98 }<br>{ "_id" : "2001 Ferrari Enzo", "totalSales" : 190755.86000000002 }<br>{ "_id" : "1952 Alpine Renault 1300", "totalSales" : 190017.96 }<br>{ "_id" : "2003 Harley-Davidson Eagle Drag Bike", "totalSales" : 170686 }<br>{ "_id" : "1968 Ford Mustang", "totalSales" : 161531.48 }<br>{ "_id" : "1969 Ford Falcon", "totalSales" : 152543.02 }<br>{ "_id" : "1980s Black Hawk Helicopter", "totalSales" : 144959.91 }<br>{ "_id" : "1998 Chrysler Plymouth Prowler", "totalSales" : 142530.63 }<br>{ "_id" : "1917 Grand Touring Sedan", "totalSales" : 140535.6 }<br>{ "_id" : "2002 Suzuki XREO", "totalSales" : 135767.03 }<br>{ "_id" : "1956 Porsche 356A Coupe", "totalSales" : 134240.71 }<br>{ "_id" : "1969 Corvair Monza", "totalSales" : 132363.79 }<br>{ "_id" : "1928 Mercedes-Benz SSK", "totalSales" : 132275.98 }<br>{ "_id" : "1957 Corvette Convertible", "totalSales" : 130749.31 }<br>{ "_id" : "1972 Alfa Romeo GTA", "totalSales" : 127924.31999999999 }<br>{ "_id" : "1962 LanciaA Delta 16V", "totalSales" : 123123.01000000001 }<br>{ "_id" : "1970 Triumph Spitfire", "totalSales" : 122254.75 }<br>{ "_id" : "1976 Ford Gran Torino", "totalSales" : 121890.59999999999 }<br>{ "_id" : "1948 Porsche Type 356 Roadster", "totalSales" : 121653.46 }<br>{ "_id" : "1958 Setra Bus", "totalSales" : 119085.25 }<br>{ "_id" : "1995 Honda Civic", "totalSales" : 119050.95 }<br>{ "_id" : "1962 Volkswagen Microbus", "totalSales" : 118774.33 }<br>{ "_id" : "1964 Mercedes Tour Bus", "totalSales" : 117669.66 }<br>{ "_id" : "1993 Mazda RX-7", "totalSales" : 114648.12 }<br>{ "_id" : "1940s Ford truck", "totalSales" : 114232.79 }</li>
</ol>
</li>
<li class="has-line-data" data-line-start="79" data-line-end="80">Calculate the number of orders each customer has placed and display the top 25 in descending order based on orders placed. Display the customer name and the orders placed in a columns called “Orders Placed”.
<ol>
<li class="has-line-data" data-line-start="79" data-line-end="80">{ "_id" : "Euro+ Shopping Channel", "numOrders" : 26 }<br>{ "_id" : "Mini Gifts Distributors Ltd.", "numOrders" : 17 }<br>{ "_id" : "Down Under Souveniers, Inc", "numOrders" : 5 }<br>{ "_id" : "Reims Collectables", "numOrders" : 5 }<br>{ "_id" : "Danish Wholesale Imports", "numOrders" : 5 }<br>{ "_id" : "Dragon Souveniers, Ltd.", "numOrders" : 5 }<br>{ "_id" : "Australian Collectors, Co.", "numOrders" : 5 }<br>{ "_id" : "Kelly's Gift Shop", "numOrders" : 4 }<br>{ "_id" : "Blauer See Auto, Co.", "numOrders" : 4 }<br>{ "_id" : "Tokyo Collectables, Ltd", "numOrders" : 4 }<br>{ "_id" : "Salzburg Collectables", "numOrders" : 4 }<br>{ "_id" : "Technics Stores Inc.", "numOrders" : 4 }<br>{ "_id" : "Diecast Classics Inc.", "numOrders" : 4 }<br>{ "_id" : "Corporate Gift Ideas Co.", "numOrders" : 4 }<br>{ "_id" : "Souveniers And Things Co.", "numOrders" : 4 }<br>{ "_id" : "Royale Belge", "numOrders" : 4 }<br>{ "_id" : "La Rochelle Gifts", "numOrders" : 4 }<br>{ "_id" : "Muscle Machine Inc", "numOrders" : 4 }<br>{ "_id" : "Baane Mini Imports", "numOrders" : 4 }<br>{ "_id" : "Anna's Decorations, Ltd", "numOrders" : 4 }<br>{ "_id" : "The Sharp Gifts Warehouse", "numOrders" : 4 }<br>{ "_id" : "Volvo Model Replicas, Co", "numOrders" : 4 }<br>{ "_id" : "Handji Gifts&amp; Co", "numOrders" : 4 }<br>{ "_id" : "Land of Toys Inc.", "numOrders" : 4 }<br>{ "_id" : "Extreme Desk Decorations, Ltd", "numOrders" : 3 }</li>
</ol>
</li>
<li class="has-line-data" data-line-start="80" data-line-end="81">Calculate the total payments made each year. Display the year and total payments in a column called “Total Payments”.
<ol>
<li class="has-line-data" data-line-start="80" data-line-end="81">{ "_id" : 2003, "totalPayments" : 3250217.7 }<br>{ "_id" : 2004, "totalPayments" : 4313328.25 }<br>{ "_id" : 2005, "totalPayments" : 1290293.28 }</li>
</ol>
</li>
<li class="has-line-data" data-line-start="81" data-line-end="82">Calculate the total payments made each month in 2004. Display the month and total payments in a column called “Total Payments”. Order the results by month in ascending order. <strong>**Hint: You will need to use the $addFields to add a field for year using the $year function, then match for 2004<br></strong>
<ol>
<li class="has-line-data" data-line-start="81" data-line-end="82"><strong>{ "_id" : 1, "totalPayments" : 234152.13 }<br>{ "_id" : 2, "totalPayments" : 106652.01000000001 }<br>{ "_id" : 3, "totalPayments" : 404603.21 }<br>{ "_id" : 4, "totalPayments" : 173245.96 }<br>{ "_id" : 5, "totalPayments" : 208524.41999999998 }<br>{ "_id" : 6, "totalPayments" : 185842.86 }<br>{ "_id" : 7, "totalPayments" : 284191.48 }<br>{ "_id" : 8, "totalPayments" : 378094.3 }<br>{ "_id" : 9, "totalPayments" : 476445.53 }<br>{ "_id" : 10, "totalPayments" : 185103.43 }<br>{ "_id" : 11, "totalPayments" : 857187.3 }<br>{ "_id" : 12, "totalPayments" : 819285.62 }</strong></li>
</ol>
</li>
<li class="has-line-data" data-line-start="82" data-line-end="83">Calculate the total payments made each day in December of 2004. Display the day in a column named “Day” and total payments in a column called “Total Payments”. Order the results by day in ascending order. <strong>**Hint: You will need to use the $addFields to add a field for year and month, using the $year and $month functions, then match for 2004 and 12<br></strong>
<ol>
<li class="has-line-data" data-line-start="82" data-line-end="83"><strong>{ "_id" : 1, "totalPayments" : 20564.86 }<br>{ "_id" : 2, "totalPayments" : 50025.35 }<br>{ "_id" : 3, "totalPayments" : 12081.52 }<br>{ "_id" : 4, "totalPayments" : 51209.58 }<br>{ "_id" : 5, "totalPayments" : 37654.09 }<br>{ "_id" : 6, "totalPayments" : 34603.95 }<br>{ "_id" : 7, "totalPayments" : 25505.98 }<br>{ "_id" : 8, "totalPayments" : 73407.89 }<br>{ "_id" : 11, "totalPayments" : 18888.31 }<br>{ "_id" : 12, "totalPayments" : 36005.71 }<br>{ "_id" : 13, "totalPayments" : 13671.82 }<br>{ "_id" : 14, "totalPayments" : 39964.63 }<br>{ "_id" : 15, "totalPayments" : 82261.22 }<br>{ "_id" : 17, "totalPayments" : 40495.25 }<br>{ "_id" : 18, "totalPayments" : 1676.14 }<br>{ "_id" : 24, "totalPayments" : 39440.59 }<br>{ "_id" : 27, "totalPayments" : 47142.7 }<br>{ "_id" : 30, "totalPayments" : 26311.63 }<br>{ "_id" : 31, "totalPayments" : 168374.4 }</strong></li>
</ol>
</li>
<li class="has-line-data" data-line-start="83" data-line-end="84">Calculate the total payments made by each customer in the database who has made a payment. Display the customer name and the total payments in a column named “Total Payments”. Order the results by total payments. The results below are the first 20 results<br>
<ol>
<li class="has-line-data" data-line-start="83" data-line-end="84">{ "_id" : "Euro+ Shopping Channel", "totalPayments" : 715738.98 }<br>{ "_id" : "Mini Gifts Distributors Ltd.", "totalPayments" : 584188.24 }<br>{ "_id" : "Australian Collectors, Co.", "totalPayments" : 180585.07 }<br>{ "_id" : "Muscle Machine Inc", "totalPayments" : 177913.95 }<br>{ "_id" : "Dragon Souveniers, Ltd.", "totalPayments" : 156251.03 }<br>{ "_id" : "Down Under Souveniers, Inc", "totalPayments" : 154622.08000000002 }<br>{ "_id" : "AV Stores, Co.", "totalPayments" : 148410.09 }<br>{ "_id" : "Anna's Decorations, Ltd", "totalPayments" : 137034.22 }<br>{ "_id" : "Corporate Gift Ideas Co.", "totalPayments" : 132340.78 }<br>{ "_id" : "Saveley &amp; Henriot, Co.", "totalPayments" : 130305.35 }<br>{ "_id" : "Rovelli Gifts", "totalPayments" : 127529.69 }<br>{ "_id" : "Reims Collectables", "totalPayments" : 126983.19 }<br>{ "_id" : "La Rochelle Gifts", "totalPayments" : 116949.68 }<br>{ "_id" : "Online Diecast Creations Co.", "totalPayments" : 116449.29000000001 }<br>{ "_id" : "Kelly's Gift Shop", "totalPayments" : 114497.19 }<br>{ "_id" : "Corrida Auto Replicas, Ltd", "totalPayments" : 112440.09 }<br>{ "_id" : "Vida Sport, Ltd", "totalPayments" : 108777.92 }<br>{ "_id" : "Land of Toys Inc.", "totalPayments" : 107639.94 }<br>{ "_id" : "Danish Wholesale Imports", "totalPayments" : 107446.5 }<br>{ "_id" : "Tokyo Collectables, Ltd", "totalPayments" : 105548.73000000001 }</li>
</ol>
</li>
<li class="has-line-data" data-line-start="84" data-line-end="85">Calculate and display the number of customers in each state. Display the state and and number of customers in each state in a column called “Number of Customers in State”. Sort the results by the Number of Customers in State.
<ol>
<li class="has-line-data" data-line-start="84" data-line-end="85">{ "_id" : null, "totalCustomers" : 53 }<br>{ "_id" : "CA", "totalCustomers" : 11 }<br>{ "_id" : "MA", "totalCustomers" : 9 }<br>{ "_id" : "NY", "totalCustomers" : 6 }<br>{ "_id" : "CT", "totalCustomers" : 4 }<br>{ "_id" : "PA", "totalCustomers" : 3 }<br>{ "_id" : "Victoria", "totalCustomers" : 2 }<br>{ "_id" : "NSW", "totalCustomers" : 2 }<br>{ "_id" : "BC", "totalCustomers" : 2 }<br>{ "_id" : "Osaka", "totalCustomers" : 1 }<br>{ "_id" : "NJ", "totalCustomers" : 1 }<br>{ "_id" : "NV", "totalCustomers" : 1 }<br>{ "_id" : "Tokyo", "totalCustomers" : 1 }<br>{ "_id" : "Queensland", "totalCustomers" : 1 }<br>{ "_id" : "Québec", "totalCustomers" : 1 }<br>{ "_id" : "NH", "totalCustomers" : 1 }<br>{ "_id" : "Isle of Wight", "totalCustomers" : 1 }</li>
</ol>
</li>
<li class="has-line-data" data-line-start="85" data-line-end="86">Which employees manage the most people? Develop a query to calculate the number of people each employees manages. Display the employee name and number of employees employees they manage in a column called “Number of Reports”.
<ol>
<li class="has-line-data" data-line-start="85" data-line-end="86">{ "_id" : "Gerard Bondur", "NumberOfReports" : 6 }<br>{ "_id" : "William Patterson", "NumberOfReports" : 3 }<br>{ "_id" : "Mami Nishi", "NumberOfReports" : 1 }<br>{ "_id" : "N/A", "NumberOfReports" : 1 }<br>{ "_id" : "Diane Murphy", "NumberOfReports" : 2 }<br>{ "_id" : "Mary Patterson", "NumberOfReports" : 4 }<br>{ "_id" : "Anthony Bow", "NumberOfReports" : 6 }</li>
</ol>
</li>
<li class="has-line-data" data-line-start="86" data-line-end="87">Write a query to calculate the number of product lines in the database. Display the result in a column called “Number of Lines”.
<ol>
<li class="has-line-data" data-line-start="86" data-line-end="87">{ "_id" : "Vintage Cars", "count" : 24 }<br>{ "_id" : "Trucks and Buses", "count" : 11 }<br>{ "_id" : "Classic Cars", "count" : 38 }<br>{ "_id" : "Motorcycles", "count" : 13 }<br>{ "_id" : "Trains", "count" : 3 }<br>{ "_id" : "Planes", "count" : 12 }<br>{ "_id" : "Ships", "count" : 9 }</li>
</ol>
</li>
<li class="has-line-data" data-line-start="87" data-line-end="89">Calculate the dollar value of each product in inventory. You can calculate this by multiplying the quantity in stock by the buy price. Display the product name, quantity in stock, buy price, and in its dollar value in a column called “Dollar Value”. Sort the results in descending order based on dollar value. &nbsp;The results below are the first 20 results<br>
<ol>
<li class="has-line-data" data-line-start="87" data-line-end="89">{ "_id" : "1995 Honda Civic", "dollarValue" : 917493.08 }<br>{ "_id" : "1952 Alpine Renault 1300", "dollarValue" : 720126.9 }<br>{ "_id" : "1962 LanciaA Delta 16V", "dollarValue" : 702325.22 }<br>{ "_id" : "1968 Dodge Charger", "dollarValue" : 685684.6799999999 }<br>{ "_id" : "1976 Ford Gran Torino", "dollarValue" : 670743.23 }<br>{ "_id" : "America West Airlines B757-200", "dollarValue" : 664126.4 }<br>{ "_id" : "2002 Suzuki XREO", "dollarValue" : 662501.19 }<br>{ "_id" : "1992 Ferrari 360 Spider red", "dollarValue" : 650231.3 }<br>{ "_id" : "1956 Porsche 356A Coupe", "dollarValue" : 648780 }<br>{ "_id" : "1964 Mercedes Tour Bus", "dollarValue" : 618193.88 }<br>{ "_id" : "1969 Corvair Monza", "dollarValue" : 615600.84 }<br>{ "_id" : "1965 Aston Martin DB5", "dollarValue" : 596410.32 }<br>{ "_id" : "2002 Chevy Corvette", "dollarValue" : 586691.0599999999 }<br>{ "_id" : "1948 Porsche Type 356 Roadster", "dollarValue" : 558818.4 }<br>{ "_id" : "1932 Model A Ford J-Coupe", "dollarValue" : 547021.9199999999 }<br>{ "_id" : "1937 Lincoln Berline", "dollarValue" : 526969.66 }<br>{ "_id" : "1970 Triumph Spitfire", "dollarValue" : 509696.4 }<br>{ "_id" : "2003 Harley-Davidson Eagle Drag Bike", "dollarValue" : 508073.63999999996 }<br>{ "_id" : "1998 Chrysler Plymouth Prowler", "dollarValue" : 479533.24000000005 }<br>{ "_id" : "1948 Porsche 356-A Roadster", "dollarValue" : 475721.39999999997 }</li>
</ol>
</li>
</ol>
<h2 class="code-line" data-line-start="89" data-line-end="90"><a id="5_What_to_Submit_89"></a>5. What to Submit</h2>
<p class="has-line-data" data-line-start="91" data-line-end="92">Submit a file named mod8_[pawrint].js file with the queries you constructed in the previous step to Canvas.</p></div></span></div></div>
